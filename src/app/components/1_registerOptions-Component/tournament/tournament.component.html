<div class="componentDisplayer-SizeFitter display-flex-column" *ngIf="tournament">
  <mat-card class="componentDisplayer-matCard display-flex-column">
    <mat-card-title class="pb-3 display-flex-justify-center font-white">{{tournament.name}}</mat-card-title>

    <!--  Tournament infos   -->
    <div class="tournament-top-grid" *ngIf="tournament.getPublished()">

      <!--    Infos     -->
      <div class="tournament-column-grid">
        <mat-card class="scrollable-content componentDisplayer-secondMatCard">
          <mat-card-title>
            Infos
            <button class="float-right" mat-mini-fab color="primary" (click)="showRules()" *ngIf="tournament.gameMode.rules">
              <mat-icon>local_police</mat-icon>
            </button>
          </mat-card-title>

          <mat-card-content *ngFor="let item of infosDisplayArray">
            <div class="mat-card-field">
              <div class="label content">
                <p class="no-margin">{{item[0]}}</p>
              </div>
              <div class="content">
                <span class="no-margin" style="white-space: pre;">{{item[1]}}</span>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <!--    Teams / Player     -->
      <div class="tournament-column-grid ">
        <mat-card class="scrollable-content componentDisplayer-secondMatCard">
          <mat-card-title *ngIf="tournament.getTeamRegistration()">
            Teams
            <button class="float-right" mat-mini-fab color="primary" (click)="showBracket()" *ngIf="tournament.challongeParticipantsAdded">
              <mat-icon>emoji_events</mat-icon>
            </button>
          </mat-card-title>
          <mat-card-title *ngIf="!tournament.getTeamRegistration()">
            Spieler
            <button class="float-right" mat-mini-fab color="primary" (click)="showBracket()" *ngIf="tournament.challongeParticipantsAdded">
              <mat-icon>emoji_events</mat-icon>
            </button>
          </mat-card-title>

          <mat-card-content >
            <div  *ngIf="tournament.getTeamRegistration()">
              <div class="mat-card-field" *ngFor="let team of teams; let i = index" [attr.data-index]="i">
                <div (click)="openTeam(team)" class="teamRow">
                  <div class="label content">
                    <p class="no-margin" >Team {{i+1}}</p>
                  </div>
                  <div class="content">
                    <p class="no-margin userLink ql-color-blue">{{team.getName()}}</p>
                  </div>
                </div>
              </div>
            </div>

            <div  *ngIf="!tournament.getTeamRegistration()">
              <div class="mat-card-field" *ngFor="let tournamentParticipant of tournamentParticipants; let i = index" [attr.data-index]="i">
                <div class="label content">
                  <p class="no-margin" >Spieler {{i+1}}</p>
                </div>
                <div class="content">
                  <p class="no-margin userLink ql-color-blue" (click)="onUserClick(tournamentParticipant)">{{tournamentParticipant.user.nickname}}</p>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

      </div>

      <!--    Preise     -->
      <div class="tournament-column-grid">
        <mat-card class="scrollable-content componentDisplayer-secondMatCard">
          <mat-card-title>Preise
          <app-snack-bar-text-displayer [horizontalPosition]="'center'"
                                        [verticalPosition]="'top'"
                                        [action]="'Schliesen'"
                                        [iconText]="'info'"
                                        [message]="'Preise können sich jederzeit ändern, auch während dem Turnier!'"
          class="add-pointer">
          </app-snack-bar-text-displayer>
          </mat-card-title>
          <ng-container *ngIf="tournament.awards">
            <mat-card-content  *ngFor="let award of tournament.awards.split(','); let i = index">
              <div class="mat-card-field">
                <div class="label">
                  <p class="no-margin">{{i+1}}. Platz</p>
                </div>
                <div class="content">
                  <p class="no-margin">{{award}}</p>
                </div>
              </div>
            </mat-card-content>
          </ng-container>
        </mat-card>

      </div>
    </div>

    <div class="tournament-top-grid" *ngIf="!tournament.getPublished()">
      <!--    Infos when not published   -->
      <div class="float-left-text-center">
        <mat-card class="top-card scrollable-content">
          <mat-card-title>Turnier wurde noch nicht veröffentlicht. Coming soon...</mat-card-title>
        </mat-card>
      </div>
    </div>

    <!-- Tournament Actions  -->
    <div class="tournament-bottom-grid" *ngIf="tournament.getPublished()">
      <mat-card class="componentDisplayer-secondMatCard">
        <mat-card-title>
          <div *ngIf="tournament.getTeamRegistration()">
            <p class="inline">Actions</p>
            <button (click)="createTeam($event)" [disabled]="!openForTeamRegistration()" mat-raised-button color="primary">
              <mat-icon>add</mat-icon>
              Team erstellen
            </button>
          </div>

          <div *ngIf="!tournament.getTeamRegistration()">
            <p class="inline">Actions</p>
            <button  (click)="joinTournament()" [disabled]="!openForPlayerRegistration()" mat-raised-button color="primary" class="mr-2">
              <mat-icon>add</mat-icon>
              Turnier beitreten
            </button>
            <button (click)="leaveTournament()" [disabled]="!openForPlayerLeave()" mat-raised-button color="primary">
              <mat-icon>remove</mat-icon>
              Turnier verlassen
            </button>
          </div>
        </mat-card-title>

      </mat-card>
    </div>

  </mat-card>
</div>
